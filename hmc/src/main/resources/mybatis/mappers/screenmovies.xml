<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.hmc.dao.ScreenMovieDao">
	
	<resultMap type="com.hmc.vo.ScreenMovie" id="ScreenMovieResultMap">
		<id column="screen_code" property="code"/>
		<result column="movie_code" property="movieCode"/>
		<result column="screen_start_date" property="startDate"/>
		<result column="screen_end_date" property="endDate"/>
	</resultMap>

	<insert id="insertScreenMovie" parameterType="com.hmc.vo.ScreenMovie">
		insert into t_screen_movie
			(screen_code, movie_code, screen_start_date, screen_end_date)
		values
			('SC' || lpad(T_SCREEN_SEQ.nextval, 6,0), #{movieCode}, #{startDate}, #{endDate})
	</insert>
	
	<update id="updateScreenMovie" parameterType="com.hmc.vo.ScreenMovie">
		update t_screen_movie
		set
    		screen_start_date = #{startDate},
    		screen_end_date = #{endDate}
		where
    		screen_code = #{code}
	</update>
	
	<delete id="deleteScreenMovie" parameterType="string">
		delete from 
			t_screen_movie
		where 
    		screen_code = #{value}
	</delete>
	
	<select id="getAllScreenMovies" resultMap="ScreenMovieResultMap">
		select
			*
		from 
			t_screen_movie
		order by 
			screen_code
	</select>
	
	<select id="getScreenMovieByCode" parameterType="string" resultMap="ScreenMovieResultMap">
		select
			*
		from 
			t_screen_movie
		where
			screen_code = #{value}
	</select>
</mapper>