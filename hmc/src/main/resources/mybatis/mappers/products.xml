<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hmc.dao.ProductDao">

	<resultMap type="com.hmc.vo.Product" id="ProductResultMap">
		<id column="product_code" property="code"/>
		<result column="product_category" property="category"/>
		<result column="product_name" property="name"/>
		<result column="product_price" property="price"/>
		<result column="product_discount_rate" property="discount_rate"/>
		<result column="product_stock" property="stock"/>
		<result column="product_memo" property="memo"/>
		<result column="product_created_date" property="createdDate"/>
	</resultMap>
	
	<insert id="insertProduct" parameterType="com.hmc.vo.Product">
		insert into t_product
		(product_code, product_category, product_name, product_price, product_stock, product_memo)
		values
		('PD' || lpad(t_product_seq.nextval,6,0), #{category}, #{name}, #{price}, #{stock}, #{memo} )
	</insert>
	
	<select id="getAllProduct" resultMap="ProductResultMap">
		select
			*
		from
			t_product
	</select>
	
	<select id="getProductByCode" parameterType="string" resultMap="ProductResultMap">
		select
			*
		from
			t_product
		where
			product_code = #{value}
	</select>
<<<<<<< HEAD
	
	<select id="getTotalProductsRows" resultType="int">
		select
			count(*)
		from
			t_product
	</select>
	
	<delete id="deleteProductByCode" parameterType="string">
		delete from
			t_product
		where
			product_code = #{value}
	</delete>
	
	<update id="updateProduct" parameterType="com.hmc.vo.Product">
		update
			t_product
		set
			product_category = #{category},
			product_name = #{name},
			product_price = #{price},
			product_discount_rate = #{discount_rate},
			product_stock = #{stock},
			product_memo = #{memo}
		where
			product_code = #{code}
	</update>
=======
>>>>>>> 93cd598888942a7493056f496c68ff94e36d588a
</mapper>