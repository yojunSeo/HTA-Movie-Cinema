<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- 
	com.sample.dao.ProductDao 매퍼인터페이스에 대한 매퍼파일(SQL이 정의된 파일) 정의
 -->
<mapper namespace="com.hmc.dao.MovieDao">
	
	<select id="getAllMovies" resultType="com.hmc.vo.Movie">
      select
         movie_code 			movieCode,
         movie_release_date		releaseDate,
         movie_name				movieName,
         movie_running_time		runningTime,
         movie_genre			genre,
         movie_grade			grade,
         movie_country			country,
         movie_director			director,
         movie_company			company,
         movie_poster			poster,
         movie_synopsis			synopsis,
         movie_url				url,
         movie_stillcut			stillcut,
         movie_trailer			trailer,
         movie_total_score		totalScore,
         movie_review_cnt		reviewCnt
      from
         t_movie
      order by movie_code desc
	</select>
	
	<select id="getMovieByCode" parameterType="int" resultType="com.hmc.vo.Movie">
		 select
	         movie_code 			movieCode,
	         movie_release_date		releaseDate,
	         movie_name				movieName,
	         movie_running_time		runningTime,
	         movie_genre			genre,
	         movie_grade			grade,
	         movie_country			country,
	         movie_director			director,
	         movie_company			company,
	         movie_poster			poster,
	         movie_synopsis			synopsis,
	         movie_url				url,
	         movie_stillcut			stillcut,
	         movie_trailer			trailer,
	         movie_total_score		totalScore,
	         movie_review_cnt		reviewCnt
      	from
        	 T_MOVIE
      	where
      		 movie_code = #{value}
	</select>
	
	<insert id="insertMovie" parameterType="com.hmc.vo.User">
		insert into t_movie
		(movie_code, movie_release_date, movie_name, movie_running_time, movie_genre, movie_grade,
		movie_country, movie_derector, movie_company, movie_poster, movie_synopsis, movie_url, 
		movie_stillcut, movie_trailer, movie_total_score, movie_review_cnt)
		values
		(#{movieCode}, #{releaseDate}, #{movieName}, #{runningTime}, #{genre}, #{grade}, 
		#{country}, #{director}, #{company}, #{poster}, #{synopsis}, #{url}, 
		#{stillcut}, #{trailer}, #{totalScore}, #{reviewCnt})
	</insert>
   
</mapper>